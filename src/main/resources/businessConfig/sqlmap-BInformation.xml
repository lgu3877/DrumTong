<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 	
		"-//mybatis.org//DTD Mapper 3.0//EN" 
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 사업장 정보 테이블	 -->
<mapper namespace="com.drumtong.business.dao.BInformationDAO">
	
	
<!-- 	신규 데이터 등록 -->
	<insert id="insertSignUp" parameterType="BInformationVO">
		INSERT INTO BINFORMATION 
			VALUES
			( #{estid}, #{taxation}, #{crn},
			  #{brandnaming}, #{representative}, #{mainlocation},
			  #{detaillocation}, #{reportcard}, #{license},
			  #{latitude}, #{lognitude})
	</insert>


<!-- 프리미엄 광고 여부 업데이트 -->
	<select id="updatePremiumBoolean" parameterType="BInformationVO">
		UPDATE BINFORMATION 
			SET
				PREMIUMBOOLEAN = #{premiumboolean} 
			WHERE
				ESTID = #{estid}
	</select>	
	
	
	
	<select id="selectCustomerDetail" parameterType="String" resultType="BInformationVO" >
		SELECT BRANDNAMING, MAINLOCATION, DETAILLOCATION FROM BINFORMATION WHERE ESTID=#{estid}
	</select>
	
<!-- 	 사업장의 위도와 경도를 받아온다. -->
	<select id="selectBusinessMapInfo"  resultType="BInformationVO" >
		SELECT LATITUDE, LONGITUDE FROM BINFORMATION
	</select>
	
<!-- 	고객이 등록한 북마크 리스트 -->
	<select id="selectBookmark" parameterType="String" resultType="BInformationVO">
		SELECT * FROM BINFORMATION B, (SELECT ESTID FROM CBOOKMARK WHERE MEMBERID=#{memberid}) A 
			WHERE 
				B.ESTID=A.ESTID
	</select>
	
	
</mapper>
